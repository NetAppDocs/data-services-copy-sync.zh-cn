---
sidebar: sidebar 
permalink: reference-networking.html 
keywords: networking, 443, port, ports, port 443, connections, connectivity, path, paths, vpn, copy and sync, netapp, bluexp, cloud sync,connectivity,data broker 
summary: NetApp Copy and Sync 的网络包括数据代理组与源位置和目标位置之间的连接，以及通过端口 443 来自数据代理的出站互联网连接。 
---
= NetApp复制和同步的网络概述
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Copy and Sync 的网络包括数据代理组与源位置和目标位置之间的连接，以及通过端口 443 来自数据代理的出站互联网连接。



== 数据代理位置

数据代理组由安装在云端或您的场所的一个或多个数据代理组成。



=== 云端数据代理

下图显示了在 AWS、Google Cloud 或 Azure 云中运行的数据代理。只要与数据代理有连接，源和目标就可以位于任何位置。例如，您可能有一个从数据中心到云提供商的 VPN 连接。


NOTE: 当 Copy and Sync 在 AWS、Azure 或 Google Cloud 中部署数据代理时，它会创建一个安全组来启用所需的出站通信。

image:diagram_networking_cloud2.png["该图表显示了复制和同步、在云中运行的数据代理以及与源和目标的连接。"]



=== 您所在地的数据代理

下图显示了在数据中心内部运行的数据代理。同样，只要与数据代理有连接，源和目标就可以位于任何位置。

image:diagram_networking_onprem.png["该图显示了复制和同步、在本地运行的数据代理以及与源和目标的连接。"]



== 网络要求

* 源和目标必须与数据代理组有网络连接。
+
例如，如果 NFS 服务器位于您的数据中心，而数据代理位于 AWS 中，那么您需要从您的网络到 VPC 的网络连接（VPN 或 Direct Connect）。

* 数据代理需要出站互联网连接，以便它可以通过端口 443 轮询复制和同步任务。
* NetApp建议配置源、目标和数据代理以使用网络时间协议 (NTP) 服务。三个组件之间的时间差不应超过5分钟。




== 网络端点

NetApp数据代理需要通过端口 443 进行出站互联网访问，以便与 Copy 和 Sync 进行通信并联系其他一些服务和存储库。您的本地网络浏览器也需要访问端点才能执行某些操作。如果您需要限制出站连接，请在为出站流量配置防火墙时参考以下端点列表。



=== 数据代理端点

数据代理联系以下端点：

[cols="38,62"]
|===
| 端点 | 目的 


| \ https://olcentgbl.trafficmanager.net | 联系存储库以更新数据代理主机的 CentOS 软件包。仅当您在 CentOS 主机上手动安装数据代理时才会联系此端点。 


| \ https://rpm.nodesource.com \ https://registry.npmjs.org \ https://nodejs.org: | 联系存储库以更新 Node.js、npm 和开发中使用的其他第三方包。 


| \ https://tgz.pm2.io | 访问用于更新 PM2 的存储库，PM2 是用于监控复制和同步的第三方包。 


| \ https://sqs.us-east-1.amazonaws.com \ https://kinesis.us-east-1.amazonaws.com | 联系复制和同步用于操作（排队文件、注册操作以及向数据代理传递更新）的 AWS 服务。 


| \ https://s3._region_.amazonaws.com例如：s3.us-east-2.amazonaws.com:443https://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region["请参阅 AWS 文档以获取 S3 端点列表"^] | 当同步关系包含 S3 存储桶时联系 Amazon S3。 


| \ https://s3.amazonaws.com/ | 当您从复制和同步下载数据代理日志时，数据代理会压缩其日志目录并将日志上传到 us-east-1 区域中预定义的 S3 存储桶。 


| \ https://storage.googleapis.com/ | 当同步关系使用 GCP 存储桶时联系 Google Cloud。 


| https://_storage-account_.blob.core.windows.net[]如果使用 Azure Data Lake Gen2：https://_storage-account_.dfs.core.windows.net[]其中 _storage-account_ 是用户的源存储帐户。 | 打开到用户 Azure 存储帐户地址的代理。 


| \ https://cf.cloudsync.netapp.com \ https://repo.cloudsync.netapp.com | 联系复制和同步。 


| \ https://support.netapp.com | 使用 BYOL 许可证进行同步关系时联系NetApp支持。 


| https://fedoraproject.org | 在安装和更新期间在数据代理虚拟机上安装 7z。需要 7z 才能将AutoSupport消息发送给NetApp技术支持。 


| \ https://sts.amazonaws.com \ https://sts.us-east-1.amazonaws.com | 当数据代理部署在 AWS 中或部署在您的场所并提供 AWS 凭证时，验证 AWS 凭证。数据代理在部署、更新和重新启动时联系此端点。 


| \ https://api.bluexp.netapp.com \ https://netapp-cloud-account.auth0.com | 当您使用分类来选择新同步关系的源文件时，请联系NetApp数据分类。 


| \ https://pubsub.googleapis.com | 如果从 Google 存储帐户创建连续同步关系。 


| https://_storage-account_.queue.core.windows.net[]\ https://management.azure.com/subscriptions/ ${_subscriptionId_} /resourceGroups/${_resourceGroup_}/providers/Microsoft.EventGrid/* 其中 _storage-account_ 是用户的源存储帐户，_subscriptionid_ 是源订阅 ID，_resourceGroup_ 是源资源组。 | 如果从 Azure 存储帐户创建连续同步关系。 
|===


=== Web 浏览器端点

您的 Web 浏览器需要访问以下端点来下载日志以进行故障排除：

logs.cloudsync.netapp.com:443
